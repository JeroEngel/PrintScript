/*
This file was generated by the Gradle 'init' task.
*/

plugins {
    // Aplica el plugin de Kotlin para añadir soporte a Kotlin.
    id 'org.jetbrains.kotlin.jvm'
    id 'org.jlleitschuh.gradle.ktlint'
}

repositories {
    // Usa Maven Central para resolver dependencias.
    mavenCentral()
}

dependencies {
    constraints {
        // Define versiones de dependencias como restricciones.
        implementation 'org.apache.commons:commons-text:1.12.0'
    }

    // Usa JUnit Jupiter para pruebas.
    testImplementation 'org.junit.jupiter:junit-jupiter:5.10.3'
    testImplementation kotlin('test')

    testRuntimeOnly 'org.junit.platform:junit-platform-launcher'
}

// Aplica una herramienta de Java específica para facilitar el trabajo en diferentes entornos.
java {
    toolchain {
        languageVersion = JavaLanguageVersion.of(21)
    }
}

tasks.named('test', Test) {
    // Usa JUnit Platform para pruebas unitarias.
    useJUnitPlatform()
}

// Configuración de Ktlint
ktlint {
    version.set("0.49.1") // Usa la versión más reciente
    android.set(true)
    outputToConsole.set(true)
    coloredOutput.set(true)
    ignoreFailures.set(false)

    reporters {
        reporter org.jlleitschuh.gradle.ktlint.reporter.ReporterType.PLAIN
    }

    additionalEditorconfig.set([
            'indent_size'        : '4',
            'indent_style'       : 'space',
            'max_line_length'    : '120',
            'insert_final_newline': 'true'
    ])

    filter {
        exclude '/generated/'
        include '/kotlin/'
    }
}

tasks.named('check') {
    dependsOn 'ktlintCheck'
}
