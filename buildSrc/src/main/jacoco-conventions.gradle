/*
This file was generated by the Gradle 'init' task.
*/

plugins {
    // Aplica el plugin de convenciones comunes para configuración compartida entre proyectos de biblioteca y aplicación.
    id 'buildlogic.kotlin-common-conventions'
    id 'jacoco'
    id 'java-library'
}

tasks {
    jacocoTestReport {
        reports {
            xml.required = true
            html.required = true
        }
    }

    jacocoTestCoverageVerification {
        violationRules {
            rule {
                limit {
                    counter = "LINE"
                    value = "COVEREDRATIO"
                    minimum = 0.8
                }
            }
        }
    }

    check {
        dependsOn 'test'
        dependsOn 'jacocoTestCoverageVerification'
        dependsOn 'jacocoTestReport'
    }

    jacocoTestCoverageVerification {
        dependsOn 'test'
    }
}
